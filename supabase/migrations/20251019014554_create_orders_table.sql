CREATE TYPE status_order AS ENUM (
  'PENDING',
  'SUCCESS',
  'FAILED'
);

CREATE TABLE public.orders (
  id BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL,
  created_at TIMESTAMP WITH TIME ZONE NOT NULL DEFAULT NOW(),
  updated_at TIMESTAMP WITH TIME ZONE NOT NULL DEFAULT NOW(),
  user_id UUID NOT NULL DEFAULT auth.uid(),
  status status_order NOT NULL DEFAULT 'PENDING',
  total_price NUMERIC NOT NULL DEFAULT '0'::NUMERIC,
  CONSTRAINT orders_pkey PRIMARY KEY (id),
  CONSTRAINT orders_user_id_fkey FOREIGN KEY (user_id) REFERENCES auth.users (id)
) TABLESPACE pg_default;
